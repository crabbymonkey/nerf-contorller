{{define "index"}}
  {{template "header" .}}
  <div class="center-container centered">
    <h1> Welcome to the Interactive Nerf Shooter!</h1>
    <p>
      This is the home page for the nerf shooter, you can test the shooter with the "TEST FIRE!" button. Also, to connect this to other serveices you can fillout the information bellow.
    </p>

      <form method="post" action="/fire">
        <button type="submit" class="btn btn-warning btn-lg">TEST FIRE!</button>
      </form>

      <br>
      <br>

      <form method="post" action="/stop" enctype="application/x-www-form-urlencoded" onsubmit="return setStopped();">
        <button id="stopBtn" type="submit" class="btn btn-danger btn-sm">Stop</button>
      </form>
      <form method="post" action="/activate" enctype="application/x-www-form-urlencoded" onsubmit="return setRunning();">
        <button id="runBtn" type="submit" class="btn btn-success btn-sm">Run</button>
      </form>
  </div>

  <script>
    function checkRunning() {
      document.getElementById("runBtn").disabled = true;
      document.getElementById("stopBtn").disabled = true;
      if ({{.Running}}) {
        document.getElementById("stopBtn").disabled = false;
      }
      else {
        document.getElementById("runBtn").disabled = false;
      }
    }
    function setRunning() {
      document.getElementById("runBtn").disabled = false;
      document.getElementById("stopBtn").disabled = true;
    }
    function setStopped() {
      document.getElementById("runBtn").disabled = true;
      document.getElementById("stopBtn").disabled = false;
    }
    window.onload = checkRunning;
  </script>
  {{template "footer" .}}
{{end}}
